<div class="grid mt-4 text-gray-700 dark:text-gray-400">
  <%= render partial: 'layouts/partials/breadcrums', locals: { component_name: 'Categories', component_location: portal_categories_path, page_name: 'Show' } %>

  <div class="w-full overflow-hidden rounded-lg shadow-xs border dark:border-gray-700 rounded-lg mt-4">
    <div class="w-full overflow-x-auto">
      <table class="w-full whitespace-no-wrap">
        <tbody class="bg-white divide-y dark:divide-gray-700 dark:bg-gray-800 md:text-sm">
          <tr class="hover:bg-gray-100 dark:hover:bg-gray-700">
            <th class="px-4 py-3 text-left border-r dark:border-gray-700">ID</th>
            <td class="px-4 py-3"><%= @category.id %></td>
          </tr>
          <tr class="hover:bg-gray-100 dark:hover:bg-gray-700">
            <th class="px-4 py-3 text-left border-r dark:border-gray-700">Name</th>
            <td class="px-4 py-3"><%= @category.name %></td>
          </tr>
          <tr class="hover:bg-gray-100 dark:hover:bg-gray-700">
            <th class="px-4 py-3 text-left border-r dark:border-gray-700">Created By</th>
            <td class="px-4 py-3"><%= @category.created_by&.name %></td>
          </tr>
          <tr class="hover:bg-gray-100 dark:hover:bg-gray-700">
            <th class="px-4 py-3 text-left border-r dark:border-gray-700">Created at</th>
            <td class="px-4 py-3"><%= @category.created_at.strftime('%A, %d %b %Y %I:%M %p') %></td>
          </tr>
          <tr class="hover:bg-gray-100 dark:hover:bg-gray-700">
            <th class="px-4 py-3 text-left border-r dark:border-gray-700">Updated at</th>
            <td class="px-4 py-3"><%= @category.updated_at.strftime('%A, %d %b %Y %I:%M %p') %></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class='flex flex-wrap item-center justify-between rounded-lg shadow-xs border dark:border-gray-700 mt-4 py-2 px-4'>
    <span class='font-semibold mt-2'>Sub Categories</span>
    <%= link_to 'Add New Sub Category', new_portal_sub_category_path(sub_category: {category_id: @category.id}), class: 'px-4 py-2 text-sm font-medium leading-5 text-white transition-colors duration-150 bg-cyan-600 border border-transparent rounded-lg active:bg-cyan-600 hover:bg-cyan-700 focus:outline-none focus:shadow-outline-cyan' %>
  </div>

  <div class="w-full overflow-hidden rounded-lg shadow-xs border dark:border-gray-700 mt-4">
    <div class="w-full overflow-x-auto">
      <table class="w-full whitespace-no-wrap">
        <thead>
          <tr class="md:text-sm text-left text-gray-500 uppercase border-b dark:border-gray-700 bg-gray-50 dark:text-gray-400 dark:bg-gray-800">
            <th class="px-4 py-3">id</th>
            <th class="px-4 py-3">name</th>
            <th class="px-4 py-3">Created By</th>
            <th class="px-4 py-3">created at</th>
            <th class="px-4 py-3">updated at</th>
            <th class="px-4 py-3 text-center">Actions</th>
          </tr>
        </thead>
        <tbody class="bg-white divide-y dark:divide-gray-700 dark:bg-gray-800 md:text-sm">
          <% @category.sub_categories.each do |sub_category| %>
            <tr class="text-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700">
              <td class="px-4 py-3"><%= sub_category.id %></td>
              <td class="px-4 py-3"><%= sub_category.name %></td>
              <td class="px-4 py-3"><%= sub_category.created_by&.name %></td>
              <td class="px-4 py-3"><%= sub_category.created_at.strftime('%A, %d %b %Y %I:%M %p') %></td>
              <td class="px-4 py-3"><%= sub_category.updated_at.strftime('%A, %d %b %Y %I:%M %p') %></td>
              <td class="px-4 py-3 flex justify-center gap-4">
                <%= link_to portal_sub_category_path(rid: sub_category.rid), class: '' do %>
                  <i class="fa-regular fa-eye"></i>
                <% end %>
                <%= link_to edit_portal_sub_category_path(rid: sub_category.rid), data: { turbo_stream: true }, class: '' do %>
                  <i class="fa-regular fa-pen-to-square"></i>
                <% end %>
                <%= link_to portal_sub_category_path(rid: sub_category.rid), method: :delete, class: '' do %>
                  <i class="fa-regular fa-trash-can"></i>
                <% end %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
